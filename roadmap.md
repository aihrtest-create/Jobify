# Roadmap: AI Coach - Веб-приложение для подготовки к собеседованиям

## Технический стек
- **Фронтенд**: React + Vite + Tailwind CSS
- **Бэкенд**: Node.js + Express
- **База данных**: SQLite (локально) → PostgreSQL (продакшн)
- **Деплой**: Vercel (фронт + бэк) + GitHub
- **Аутентификация**: Google OAuth (финальный этап)

---

## Этап 0: Подготовка и настройка проекта

### 0.1 Инициализация проекта
- [x] Создать GitHub репозиторий
- [x] Создать структуру проекта (frontend/backend)
- [x] Настроить React + Vite + Tailwind CSS
- [x] Настроить Node.js + Express сервер
- [x] Создать базовую структуру папок и файлов
- [x] Настроить CORS и базовые middleware
- [x] Создать .env файлы для конфигурации
- [x] Настроить .gitignore для Node.js проекта
- [x] Подготовить проект для Vercel (vercel.json)

### 0.2 Верстка по Figma дизайну
- [x] Проанализировать Figma макеты
- [x] Создать базовые React компоненты (Header, Layout, Button, Input)
- [x] Сверстать страницу ввода вакансии
- [x] Сверстать страницу ввода резюме
- [x] Сверстать дашборд (главную страницу) с полным функционалом согласно макету
- [x] Сверстать современный интерфейс чата с голосовым вводом и анимациями
- [x] Сверстать страницу обратной связи
- [x] Сверстать страницу истории тренировок
- [x] Адаптивная верстка для мобильных устройств
- [x] Базовые анимации и переходы

---

## Этап 1: MVP - Базовый функционал

### 1.0 Упрощение системы промптов
- [x] Откатить сложную PM-специфичную логику
- [x] Упростить систему до 3 основных промптов:
  - [x] Промпт для интервью (универсальный)
  - [x] Промпт для обратной связи (упрощенный)
  - [x] Промпт для сопроводительного письма (краткий)
- [x] Удалить PM-специфичный сервис и логику
- [x] Обновить API для использования упрощенных промптов
- [x] Упростить страницу настроек

---

## Этап 1: MVP - Базовый функционал

### 1.1 Система ввода данных
- [ ] Форма ввода вакансии с валидацией
  - [ ] Поля: название позиции, компания, описание, требования
  - [ ] Сохранение в localStorage
  - [ ] Возможность редактирования
- [ ] Форма ввода резюме
  - [ ] Текстовое поле для резюме
  - [ ] Возможность загрузки файла (позже)
  - [ ] Сохранение в localStorage
  - [ ] Возможность редактирования
- [ ] Валидация форм и обработка ошибок
- [ ] Навигация между страницами

### 1.2 Базовый чат с LLM
- [x] Создание модуля настроек промптов и LLM провайдеров
- [x] Интеграция с Google Gemini API (приоритет над OpenRouter)
- [x] Создание системных промптов для интервьюера (дефолтные)
- [x] Интерфейс настроек выбора провайдера и модели
- [x] Подключение реального Gemini API к чату вместо заглушек
- [x] Контекст диалога (передача данных о вакансии и резюме)
- [x] Базовая обработка ошибок API (без fallback)
- [x] Улучшенный UX чата с индикаторами загрузки и ошибок

### 1.3 Дашборд и навигация
- [ ] Карточка "Начать тренировку" (переход к чату)
- [ ] Карточка "История тренировок" (заглушка)
- [x] Карточка "Сопроводительное письмо" (реальная генерация через API)
- [ ] Проверка наличия данных (вакансия + резюме)
- [ ] Редирект на страницы ввода при отсутствии данных

### 1.4 Базовая обратная связь
- [ ] Кнопка завершения интервью
- [ ] Простой промпт для генерации фидбека
- [ ] Страница с результатами интервью
- [ ] Сохранение результата в localStorage
- [ ] Возможность вернуться к дашборду

---

## Этап 2: Расширенный функционал

### 2.1 Панель настроек (Админ-панель)
- [ ] Страница настроек с навигацией по секциям
- [ ] Редактор промптов
  - [ ] Промпт интервьюера
  - [ ] Промпт для фидбека
  - [ ] Промпт для сопроводительных писем
  - [ ] Предварительный просмотр
- [ ] Настройки LLM провайдеров
  - [ ] Выбор основного провайдера (OpenRouter/Gemini)
  - [ ] Настройка моделей
  - [ ] Управление API ключами
  - [ ] Настройка параметров (temperature, max_tokens)
  - [ ] Тестирование соединения
- [ ] Сохранение настроек в localStorage
- [ ] Импорт/экспорт конфигурации

### 2.2 Прокси-сервер для API
- [ ] Создание Express middleware для проксирования
- [ ] Обработка запросов к OpenRouter API
- [ ] Обработка запросов к Google Gemini API
- [ ] Fallback логика между провайдерами
- [ ] Обработка ошибок и retry логика
- [ ] Логирование запросов (без API ключей)

### 2.3 Улучшенная система фидбека
- [ ] Детальный анализ ответов пользователя
- [ ] Система оценок по критериям
  - [ ] Техническая компетентность
  - [ ] Коммуникативные навыки
  - [ ] Структурированность ответов
  - [ ] Соответствие вакансии
- [ ] Конкретные рекомендации по улучшению
- [ ] Визуализация оценок (графики/диаграммы)
- [ ] Экспорт результатов в PDF

### 2.4 Генерация сопроводительных писем
- [x] Страница генерации письма (интегрирована в дашборд)
- [x] Использование данных вакансии и резюме (работает даже без резюме)
- [x] Настраиваемый промпт для генерации
- [x] Предварительный просмотр письма
- [ ] Возможность редактирования результата
- [ ] Сохранение и экспорт письма

---

## Этап 3: Голосовые технологии

### 3.1 Настройка STT провайдеров
- [ ] Интеграция с Deepgram API
- [ ] Интеграция с Yandex SpeechKit
- [ ] Fallback на Web Speech API
- [ ] Настройки STT в админ-панели
  - [ ] Выбор приоритета провайдеров
  - [ ] Настройка языков распознавания
  - [ ] Управление API ключами
  - [ ] Тестирование записи и распознавания

### 3.2 Настройка TTS провайдеров
- [ ] Интеграция с Yandex SpeechKit TTS
- [ ] Интеграция с ElevenLabs API
- [ ] Fallback на Web Speech Synthesis API
- [ ] Настройки TTS в админ-панели
  - [ ] Выбор приоритета провайдеров
  - [ ] Настройка голосов и параметров
  - [ ] Тестирование воспроизведения
  - [ ] Управление API ключами

### 3.3 Голосовой интерфейс в чате
- [ ] Кнопка записи голосового сообщения
- [ ] Индикатор состояния записи
- [ ] Визуализация звуковых волн при записи
- [ ] Автоматическая отправка после записи
- [ ] Воспроизведение ответов ИИ голосом
- [ ] Кнопка включения/выключения TTS
- [ ] Индикатор воспроизведения
- [ ] Контроль громкости и скорости речи

---

## Этап 4: База данных и персистентность

### 4.1 Миграция на SQLite
- [ ] Настройка SQLite в проекте
- [ ] Создание схемы базы данных
  - [ ] Таблица пользователей (пока без аутентификации)
  - [ ] Таблица вакансий
  - [ ] Таблица резюме
  - [ ] Таблица интервью
  - [ ] Таблица сообщений чата
  - [ ] Таблица результатов фидбека
- [ ] API эндпоинты для работы с данными
- [ ] Миграция данных из localStorage
- [ ] Backup и восстановление данных

### 4.2 Полноценная история тренировок
- [ ] Список всех интервью с датами и результатами
- [ ] Детальный просмотр каждого интервью
- [ ] Возможность пересмотреть диалог
- [ ] Поиск и фильтрация по истории
- [ ] Удаление старых тренировок
- [ ] Статистика по всем интервью

### 4.3 Система аналитики и прогресса
- [ ] Сбор метрик по каждому интервью
- [ ] Расчет прогресса пользователя
- [ ] Графики улучшения показателей
- [ ] Сравнение результатов по времени
- [ ] Рекомендации на основе прогресса
- [ ] Экспорт аналитических данных

---

## Этап 5: Многопользовательский режим и финальные функции

### 5.1 Google OAuth аутентификация
- [ ] Настройка Google OAuth 2.0
- [ ] Страницы входа и регистрации
- [ ] Middleware для проверки аутентификации
- [ ] Связывание данных с пользователями
- [ ] Миграция существующих данных
- [ ] Личный кабинет пользователя

### 5.2 Расширенные функции
- [ ] Различные типы интервью (техническое, HR, поведенческое)
- [ ] Настраиваемая сложность вопросов
- [ ] Тематические интервью по направлениям
- [ ] Совместные интервью (в будущем)
- [ ] Интеграция с календарем для планирования
- [ ] Уведомления и напоминания

### 5.3 Оптимизация и полировка
- [ ] Оптимизация производительности
- [ ] Кеширование API ответов
- [ ] Сжатие и оптимизация аудио
- [ ] PWA функциональность (работа офлайн)
- [ ] Улучшение UX/UI
- [ ] Добавление анимаций и микроинтеракций
- [ ] Финальное тестирование всех функций

---

## Этап 6: Деплой и продакшн

### 6.1 Подготовка к деплою
- [ ] Настройка переменных окружения для Vercel
- [ ] Оптимизация сборки фронтенда
- [ ] Настройка Vercel Functions для API
- [ ] Тестирование локально перед деплоем
- [ ] Создание production конфигурации

### 6.2 Деплой на Vercel
- [ ] Подключение GitHub репозитория к Vercel
- [ ] Настройка автоматического деплоя
- [ ] Конфигурация переменных окружения в Vercel
- [ ] Первый деплой и тестирование
- [ ] Настройка кастомного домена (опционально)

### 6.3 Миграция на PostgreSQL (продакшн)
- [ ] Настройка PostgreSQL на Vercel/Supabase
- [ ] Миграция схемы из SQLite
- [ ] Настройка подключения к БД
- [ ] Перенос данных пользователей
- [ ] Тестирование в продакшн среде

### 6.4 Безопасность и мониторинг
- [ ] Валидация всех входных данных
- [ ] Rate limiting для API
- [ ] Безопасное хранение API ключей в Vercel
- [ ] Настройка логирования
- [ ] Error tracking (Vercel Analytics)
- [ ] Мониторинг производительности

---

## Примечания к разработке

### Приоритеты на каждом этапе:
1. **Функциональность** - сначала работает, потом красиво
2. **Пользовательский опыт** - интуитивный интерфейс
3. **Производительность** - быстрая загрузка и отклик
4. **Надежность** - обработка ошибок и fallback'и

### Технические особенности:
- Все API ключи только в .env файлах (локально) и Vercel Environment Variables (продакшн)
- Обязательная валидация на фронтенде и бэкенде
- Graceful degradation при недоступности внешних API
- Responsive дизайн для всех устройств
- Vercel Functions для серверной логики
- Автоматический деплой при push в main ветку
- Подробное логирование для отладки

### Документация:
- JSDoc для всех функций
- README с инструкциями по запуску
- API документация для бэкенда
- Комментарии к сложной бизнес-логике
